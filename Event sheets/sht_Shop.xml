<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>sht_Shop</name>
    <events>
        <event-block sid="153864052585099">
            <conditions>
                <condition id="-2" name="On start of layout" sid="649228849921680" type="System" />
            </conditions>
            <actions>
                <action id="1" name="Request project file" sid="280183401538034" type="AJAX">
                    <param id="0" name="Tag">&quot;Items&quot;</param>
                    <param id="1" name="File">Items.json</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="825618900670148">
            <conditions>
                <condition id="0" name="On completed" sid="531088984216032" type="AJAX">
                    <param id="0" name="Tag">&quot;Items&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="11" name="Load" sid="405625545657747" type="Array">
                    <param id="0" name="JSON">AJAX.LastData</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="728831425673451">
            <conditions>
                <condition id="0" name="On clicked" sid="581668578712456" type="Download" />
            </conditions>
            <actions>
                <action id="12" name="Download" sid="939561765132523" type="Array">
                    <param id="0" name="Filename">&quot;data.json&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-group description="" sid="656160428172656" title="Store">
            <sub-events>
                <event-block sid="826247325602946">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="932432755149267" type="Keyboard">
                            <param id="0" name="Key">84</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="993592998235155" type="storePanel">
                            <param id="0" name="Instance variable">keyTPressed</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="839984474181699" type="storePanel">
                            <param id="0" name="Instance variable">keyTPressed</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="603155456559039">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="427307604605094" type="storePanel">
                            <param id="0" name="Instance variable">keyTPressed</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-14" name="Toggle boolean" sid="583359101054920" type="storePanel">
                            <param id="0" name="Instance variable">showStore</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="653114979794138" type="storePanel">
                            <param id="0" name="Instance variable">keyTPressed</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="148473694796813">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="429309883520870" type="storePanel">
                            <param id="0" name="Instance variable">showStore</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-4" name="Set layer visible" sid="221605220905411" type="System">
                            <param id="0" name="Layer">(&quot;Store&quot;)</param>
                            <param id="1" name="Visibility">1</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="381150513283436" type="System">
                            <param id="0" name="Layer">(&quot;StoreScroll&quot;)</param>
                            <param id="1" name="Visibility">1</param>
                        </action>
                        <action id="-13" name="Set time scale" sid="416600109870763" type="System">
                            <param id="0" name="Time scale">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="520809670044162">
                    <conditions>
                        <condition id="-22" name="Else" sid="708150782351923" type="System" />
                    </conditions>
                    <actions>
                        <action id="-4" name="Set layer visible" sid="711968059392591" type="System">
                            <param id="0" name="Layer">(&quot;Store&quot;)</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="831887515740019" type="System">
                            <param id="0" name="Layer">(&quot;StoreScroll&quot;)</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                        <action id="-13" name="Set time scale" sid="792249314491601" type="System">
                            <param id="0" name="Time scale">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-block any="1" sid="528222692252673">
            <conditions>
                <condition id="-9" name="Layer is visible" sid="114829744609437" type="System">
                    <param id="0" name="Layer">(&quot;Store&quot;)</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <variable constant="0" name="shopDrawn" sid="180930468808496" static="1" type="number">0</variable>
                <event-block sid="597597485348058">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="841727487206807" type="System">
                            <param id="0" name="Variable">shopDrawn</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="134525150307519">
                            <conditions>
                                <condition id="-24" name="For Each (ordered)" sid="785094991473409" type="System">
                                    <param id="0" name="Object">playableItems</param>
                                    <param id="1" name="Expression">playableItems.index</param>
                                    <param id="2" name="Order">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="269591542918734" type="System">
                                    <param id="0" name="Object to create">ItemPanel</param>
                                    <param id="1" name="Layer">(&quot;Store&quot;)</param>
                                    <param id="2" name="X">200</param>
                                    <param id="3" name="Y">50+ (loopindex * 50)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="638029865976097">
                                    <conditions>
                                        <condition id="-10" name="For" sid="567650673134679" type="System">
                                            <param id="0" name="Name">&quot;loadItem&quot;</param>
                                            <param id="1" name="Start index">1</param>
                                            <param id="2" name="End index">Array.Width</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="588101478643044">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="847666373077751" type="System">
                                                    <param id="0" name="First value">playableItems.index</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">loopindex</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Spawn another object" sid="161857590419909" type="ItemPanel">
                                                    <param id="0" name="Object">playableItems</param>
                                                    <param id="1" name="Layer">(&quot;Store&quot;)</param>
                                                    <param id="2" name="Image point">&quot;ItemIcon&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="148957668278582">
                            <conditions />
                            <actions>
                                <action id="-9" name="Set value" sid="264660593536153" type="System">
                                    <param id="0" name="Variable">shopDrawn</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block disabled="1" sid="964892743622193">
            <conditions>
                <condition id="-18" name="On created" sid="538908037024586" type="shopPanelScroll" />
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="547911896587995" type="shopPanelScroll">
                    <param id="0" name="Instance variable">oldY</param>
                    <param id="1" name="Value">Self.Y</param>
                </action>
                <action id="-3" name="Create object" sid="767143371347099" type="System">
                    <param id="0" name="Object to create">ItemPanel</param>
                    <param id="1" name="Layer">(&quot;Store&quot;)</param>
                    <param id="2" name="X">shopPanelScroll.X</param>
                    <param id="3" name="Y">shopPanelScroll.Y</param>
                </action>
                <action id="0" name="Spawn another object" sid="146553173677645" type="ItemPanel">
                    <param id="0" name="Object">item_wand</param>
                    <param id="1" name="Layer">(&quot;Store&quot;)</param>
                    <param id="2" name="Image point">&quot;ItemIcon&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-block disabled="1" sid="951765003003184">
            <conditions>
                <condition id="2" name="On changed" sid="241729721481513" type="storeScrollBar" />
                <condition id="-1" name="Every tick" sid="750357052464799" type="System" />
            </conditions>
            <actions>
                <action id="-11" name="Add to" sid="247053674854270" type="shopPanelScroll">
                    <param id="0" name="Instance variable">newY</param>
                    <param id="1" name="Value">storeScrollBar.Value + shopPanelScroll.oldY</param>
                </action>
                <action id="-2" name="Set Y" sid="672880461025186" type="shopPanelScroll">
                    <param id="0" name="Y">Self.newY</param>
                </action>
                <action id="-3" name="Set position" sid="546003633198990" type="ItemPanel">
                    <param id="0" name="X">shopPanelScroll.X</param>
                    <param id="1" name="Y">shopPanelScroll.Y</param>
                </action>
                <action id="-4" name="Set position to another object" sid="960603605369959" type="item_wand">
                    <param id="0" name="Object">ItemPanel</param>
                    <param id="1" name="Image point (optional)">&quot;itemIcon&quot;</param>
                </action>
            </actions>
        </event-block>
        <comment>click and drag</comment>
        <event-block sid="877798349305818">
            <conditions>
                <condition id="7" name="Cursor is over object" sid="884113047980167" type="Mouse">
                    <param id="0" name="Object">storePanel</param>
                </condition>
                <condition id="2" name="Mouse button is down" sid="774332664538066" type="Mouse">
                    <param id="0" name="Mouse button">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-2" name="Set Y" sid="667924443150758" type="storePanel">
                    <param id="0" name="Y">Mouse.Y</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
